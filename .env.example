# Application runtime
NODE_ENV=development
APP_PORT=3000

# PostgreSQL configuration (used by docker compose and backend)
POSTGRES_USER=postgres
POSTGRES_PASSWORD=postgres
POSTGRES_DB=berthcare_dev
POSTGRES_PORT=5432
DATABASE_HOST=postgres
DATABASE_PORT=5432
DATABASE_URL=postgresql://postgres:postgres@postgres:5432/berthcare_dev

# Backend database connection (pg pool)
DB_HOST=postgres
DB_PORT=5432
DB_NAME=berthcare_dev
DB_USER=postgres
DB_PASSWORD=postgres
DB_POOL_MAX=20
DB_IDLE_TIMEOUT_MS=30000
DB_CONNECTION_TIMEOUT_MS=5000
DB_APPLICATION_NAME=berth-backend

# Optional read replica placeholder (leave blank until replica exists)
DB_REPLICA_HOST=
DB_REPLICA_PORT=
DB_REPLICA_USER=
DB_REPLICA_PASSWORD=
DB_REPLICA_POOL_MAX=10
DB_REPLICA_USE_SSL=false
DB_REPLICA_SSL_REJECT_UNAUTHORIZED=true

# Redis configuration
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0
REDIS_URL=redis://redis:6379
REDIS_CACHE_PREFIX=cache
REDIS_SESSION_PREFIX=session
REDIS_CONNECTION_NAME=berth-backend
REDIS_USE_TLS=false
REDIS_TLS_REJECT_UNAUTHORIZED=true
REDIS_CONNECT_TIMEOUT_MS=10000
REDIS_MAX_RETRIES_PER_REQUEST=3
# Optional retry tuning
# REDIS_RETRY_BASE_MS=100
# REDIS_RETRY_MAX_MS=30000
# REDIS_MAX_RETRY_ATTEMPTS=

# LocalStack / S3 emulation
AWS_REGION=ca-central-1
AWS_ACCESS_KEY_ID=localstack
AWS_SECRET_ACCESS_KEY=localstack
AWS_S3_BUCKET=berthcare-local
AWS_S3_PHOTO_BUCKET=berthcare-local
LOCALSTACK_PORT=4566
LOCALSTACK_ENDPOINT=http://localstack:4566
S3_ENDPOINT=http://localstack:4566
S3_FORCE_PATH_STYLE=true
S3_PRESIGNED_TTL_SECONDS=900
S3_REQUEST_TIMEOUT_MS=10000
S3_MAX_ATTEMPTS=3

# Placeholder secrets - replace for real deployments
JWT_SECRET=dev-secret-change-in-production

# Twilio configuration (fill in when Twilio accounts are provisioned)
TWILIO_ACCOUNT_SID=
TWILIO_SUBACCOUNT_SID=
TWILIO_API_KEY_SID=
TWILIO_API_KEY_SECRET=
TWILIO_AUTH_TOKEN=
TWILIO_VOICE_PHONE_NUMBER=
TWILIO_SMS_PHONE_NUMBER=
TWILIO_VOICE_WEBHOOK_URL=http://localhost:3000/v1/twilio/voice-alert
TWILIO_SMS_WEBHOOK_URL=http://localhost:3000/v1/twilio/sms/webhook
TWILIO_STATUS_CALLBACK_URL=http://localhost:3000/v1/twilio/call-status
